var e=Object.defineProperty,t=(t,s,i)=>(((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(t,"symbol"!=typeof s?s+"":s,i),i);import{D as s,Q as i}from"./petite-vue.es.dbdd9865.js";import{T as r,s as n}from"./Toast.f6108760.js";import{c as a}from"./login.1d6abafb.js";import"./globalNotFoundImage.5768a9d5.js";import{R as l}from"./Router.8773cb0b.js";let o=new r;let m=s(new class{constructor(){t(this,"itemPage",1),t(this,"itemPerPage",2),t(this,"fetchItems",{}),t(this,"isSending",!1)}getItem(){return n.setPage(this.itemPage).setPerPage(this.itemPerPage).items(null,(e=>{var t;if(200===e.code){let t={};for(let s of e.data.data)t[s.id]=this.formatResult(s);this.fetchItems=t}else this.sendError(null!=(t=e.message)?t:"Unknown error!")}))}itemNextPage(){return++this.itemPage,this.getItem()}isEmpty(e){return null==e||e===[]||e==={}||"string"==typeof e&&(""===e||""===e.trim())||"object"==typeof e&&0===Object.keys(e).length}checkIfSendingIsAllowed(){if(this.isSending)return!1}tryInt(e){let t=parseInt(e,10);return e==t?t:e}formatResult(e){return e.price=this.tryInt(e.price),e}sendNewItem(){return!!this.checkIfSendingIsAllowed()&&(this.sending(!0),n.helper(n.post("order",{key:this.captchaKey,email:this.email,link:this.link,captcha:this.captcha,message:this.message}),(e=>{var t;return 200===e.code?(this.getItem(),this.flushCartBlockStyle(),o.title("Success").content("We will reply as soon as possible!").success()):this.sendError(null!=(t=e.message)?t:"Unknown error!"),this.getCaptcha(),this.sending(!1),this.getItem(),e}),(e=>{this.sendError(e),this.getCaptcha(),this.sending(!1),this.getItem()})))}sendError(e){return o.title("Failed!").content(null!=e?e:"unknown error!").error(),!1}});if(a()){let e=document.getElementsByClassName("after-login"),t=document.getElementsByClassName("before-login");for(let s of t)s.style.display="none";for(let s of e)s.style.display=null}else l.go("/admin/login/");i({index:m,disableIfEmpty:(e,t)=>{if(m.isEmpty(t)){let t=document.querySelector(e);"A"===t.tagName?(t.classList.add("disabled-link"),t.setAttribute("href","javascript:;")):t.setAttribute("disabled","disabled")}}}).mount();
