import{s as e,d as t}from"./Toast.49efcf65.js";function n(){return function(){let e=t.getItem("expires_in");return!e||e<=Math.round((new Date).getTime()/1e3)}()?null:t.getItem("token")}function r(t,n,r){return e.getCaptcha(t,n,r)}function o(n,r,o,a){return c(n)?e.pError("key can not be empty"):c(o)?e.pError("email can not be empty"):c(a)?e.pError("password can not be empty"):c(r)?e.pError("captcha can not be empty"):e.login({key:n,captcha:r,email:o,password:a},(e=>(200===e.code&&function(e,n){t.setItem("token",e,n,"/admin/"),t.setItem("expires_in",n,n,"/admin/")}(e.token_type+" "+e.access_token,Math.round((new Date).getTime()/1e3)+e.expires_in),e)))}function a(){return!!n()}function c(e){return null==e||e===[]||e==={}||"string"==typeof e&&(""===e||""===e.trim())||"object"==typeof e&&0===Object.keys(e).length}export{a as c,r as g,o as s};
